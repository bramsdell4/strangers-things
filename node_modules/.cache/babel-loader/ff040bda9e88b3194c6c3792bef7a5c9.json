{"ast":null,"code":"var _jsxFileName = \"/home/vaultdweller7/Desktop/course-work/strangers-things/src/components/Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst apiCall = async () => {\n  const result = await fetch('https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT');\n  const data = await result.json();\n  return data;\n};\n\nconst Account = _ref => {\n  _s();\n\n  let {\n    user,\n    setUser,\n    token\n  } = _ref;\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const registerUser = async (username, password) => {\n    const registration = await apiCall(\"/guests/register\", \"POST\", null, {\n      guest: {\n        username,\n        password\n      }\n    });\n    return {\n      user: registration.data.guest,\n      token: registration.data.token\n    };\n  };\n\n  const loginUser = async (username, password) => {\n    const login = await apiCall(\"/guests/login\", \"POST\", null, {\n      guest: {\n        username,\n        password\n      }\n    });\n    return {\n      user: login.data.guest,\n      token: login.data.token\n    };\n  };\n\n  const setToken = (body, token) => {\n    return token ? Object.assign(body, {\n      headers: Object.assign(body.headers, {\n        'Authorization': `Bearer ${token}`\n      })\n    }) : body;\n  };\n\n  fetch('https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/users/register', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      user: {\n        username: {\n          username\n        },\n        //whatever the input for username is\n        password: {\n          password\n        } //whatever the input for password is\n\n      }\n    })\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Account register and Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setUsername(e.target.value),\n        required: true,\n        name: \"username\",\n        type: \"text\",\n        placeholder: \"username\",\n        value: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setPassword(e.target.value),\n        required: true,\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"password\",\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Account, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["React","useState","apiCall","result","fetch","data","json","Account","user","setUser","token","username","setUsername","password","setPassword","registerUser","registration","guest","loginUser","login","setToken","body","Object","assign","headers","method","JSON","stringify","then","response","console","log","catch","error","e","target","value"],"sources":["/home/vaultdweller7/Desktop/course-work/strangers-things/src/components/Account.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst apiCall = async () => {\n  const result = await fetch('https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT');\n  const data = await result.json();\n  return data\n}\n\nconst Account = ({user, setUser, token}) => {\n    \n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const registerUser = async(username, password) => {\n\n\n  \n\n\n\n        const registration = await apiCall(\"/guests/register\", \"POST\", null, {\n          guest: {username, password}\n        })\n      \n        return {\n          user: registration.data.guest, \n          token: registration.data.token\n        };\n      }\n\n      const loginUser = async(username, password) => {\n        const login = await apiCall(\"/guests/login\", \"POST\", null, {\n          guest: {username, password}\n        })\n      \n        return {\n          user: login.data.guest, \n          token: login.data.token\n        };\n      }\n\n      const setToken = (body, token) => {\n        return token ?\n        Object.assign(\n          body, {headers: Object.assign(body.headers, {'Authorization': `Bearer ${token}` })}\n        ) :\n        body\n      }\n\n  \n    \n    fetch('https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/users/register', {\n  method: \"POST\",\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    user: {\n      username: {username},//whatever the input for username is\n      password: {password}//whatever the input for password is\n    }\n  })\n}).then(response => response.json())\n  .then(result => {\n    console.log(result);\n  })\n  .catch(console.error);\n    return <div>\n        <h1>Account register and Log In</h1>\n        <form>\n            <input onChange={(e) => setUsername(e.target.value)}\n            required name=\"username\" type='text' placeholder=\"username\" value={username}></input>\n            <input onChange={(e) => setPassword(e.target.value)}\n            required name=\"password\" type='password' placeholder=\"password\" value={password}></input>\n            <button type=\"submit\">Submit</button>\n        </form>\n        </div>\n    \n}\nexport default Account"],"mappings":"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"},"metadata":{},"sourceType":"module"}