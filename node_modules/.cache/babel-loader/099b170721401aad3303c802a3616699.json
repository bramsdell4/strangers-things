{"ast":null,"code":"var _jsxFileName = \"/home/vaultdweller7/Desktop/course-work/strangers-things/src/components/Account.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiCall = 'https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/';\n\nconst Account = _ref => {\n  _s();\n\n  let {\n    user,\n    setUser,\n    token\n  } = _ref;\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const registerUser = async (username, password) => {\n    const registration = await apiCall(\"/guests/register\", \"POST\", null, {\n      guest: {\n        username,\n        password\n      }\n    });\n    return {\n      user: registration.data.guest,\n      token: registration.data.token\n    };\n  };\n\n  const loginUser = async (username, password) => {\n    const login = await apiCall(\"/guests/login\", \"POST\", null, {\n      guest: {\n        username,\n        password\n      }\n    });\n    return {\n      user: login.data.guest,\n      token: login.data.token\n    };\n  };\n\n  const setToken = (body, token) => {\n    return token ? Object.assign(body, {\n      headers: Object.assign(body.headers, {\n        'Authorization': `Bearer ${token}`\n      })\n    }) : body;\n  };\n\n  fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/register', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      user: {\n        username: {\n          username\n        },\n        //whatever the input for username is\n        password: {\n          password\n        } //whatever the input for password is\n\n      }\n    })\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Account register and Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setUsername(e.target.value),\n        required: true,\n        name: \"username\",\n        type: \"text\",\n        placeholder: \"username\",\n        value: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Account, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["React","useState","apiCall","Account","user","setUser","token","username","setUsername","password","setPassword","registerUser","registration","guest","data","loginUser","login","setToken","body","Object","assign","headers","fetch","method","JSON","stringify","then","response","json","result","console","log","catch","error","e","target","value"],"sources":["/home/vaultdweller7/Desktop/course-work/strangers-things/src/components/Account.js"],"sourcesContent":["import React, { useState } from \"react\";\nconst apiCall = 'https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT/'\n\nconst Account = ({user, setUser, token}) => {\n    \n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const registerUser = async(username, password) => {\n\n\n  \n\n\n\n        const registration = await apiCall(\"/guests/register\", \"POST\", null, {\n          guest: {username, password}\n        })\n      \n        return {\n          user: registration.data.guest, \n          token: registration.data.token\n        };\n      }\n\n      const loginUser = async(username, password) => {\n        const login = await apiCall(\"/guests/login\", \"POST\", null, {\n          guest: {username, password}\n        })\n      \n        return {\n          user: login.data.guest, \n          token: login.data.token\n        };\n      }\n\n      const setToken = (body, token) => {\n        return token ?\n        Object.assign(\n          body, {headers: Object.assign(body.headers, {'Authorization': `Bearer ${token}` })}\n        ) :\n        body\n      }\n\n  \n    \n    fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/register', {\n  method: \"POST\",\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    user: {\n      username: {username},//whatever the input for username is\n      password: {password}//whatever the input for password is\n    }\n  })\n}).then(response => response.json())\n  .then(result => {\n    console.log(result);\n  })\n  .catch(console.error);\n    return <div>\n        <h1>Account register and Log In</h1>\n        <form>\n            <input onChange={(e) => setUsername(e.target.value)}\n            required name=\"username\" type='text' placeholder=\"username\" value={username}></input>\n        </form>\n        </div>\n    \n}\nexport default Account"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AACA,MAAMC,OAAO,GAAG,gEAAhB;;AAEA,MAAMC,OAAO,GAAG,QAA4B;EAAA;;EAAA,IAA3B;IAACC,IAAD;IAAOC,OAAP;IAAgBC;EAAhB,CAA2B;EAExC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMU,YAAY,GAAG,OAAMJ,QAAN,EAAgBE,QAAhB,KAA6B;IAO9C,MAAMG,YAAY,GAAG,MAAMV,OAAO,CAAC,kBAAD,EAAqB,MAArB,EAA6B,IAA7B,EAAmC;MACnEW,KAAK,EAAE;QAACN,QAAD;QAAWE;MAAX;IAD4D,CAAnC,CAAlC;IAIA,OAAO;MACLL,IAAI,EAAEQ,YAAY,CAACE,IAAb,CAAkBD,KADnB;MAELP,KAAK,EAAEM,YAAY,CAACE,IAAb,CAAkBR;IAFpB,CAAP;EAID,CAfH;;EAiBE,MAAMS,SAAS,GAAG,OAAMR,QAAN,EAAgBE,QAAhB,KAA6B;IAC7C,MAAMO,KAAK,GAAG,MAAMd,OAAO,CAAC,eAAD,EAAkB,MAAlB,EAA0B,IAA1B,EAAgC;MACzDW,KAAK,EAAE;QAACN,QAAD;QAAWE;MAAX;IADkD,CAAhC,CAA3B;IAIA,OAAO;MACLL,IAAI,EAAEY,KAAK,CAACF,IAAN,CAAWD,KADZ;MAELP,KAAK,EAAEU,KAAK,CAACF,IAAN,CAAWR;IAFb,CAAP;EAID,CATD;;EAWA,MAAMW,QAAQ,GAAG,CAACC,IAAD,EAAOZ,KAAP,KAAiB;IAChC,OAAOA,KAAK,GACZa,MAAM,CAACC,MAAP,CACEF,IADF,EACQ;MAACG,OAAO,EAAEF,MAAM,CAACC,MAAP,CAAcF,IAAI,CAACG,OAAnB,EAA4B;QAAC,iBAAkB,UAASf,KAAM;MAAlC,CAA5B;IAAV,CADR,CADY,GAIZY,IAJA;EAKD,CAND;;EAUFI,KAAK,CAAC,uEAAD,EAA0E;IACjFC,MAAM,EAAE,MADyE;IAEjFF,OAAO,EAAE;MACP,gBAAgB;IADT,CAFwE;IAKjFH,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAe;MACnBrB,IAAI,EAAE;QACJG,QAAQ,EAAE;UAACA;QAAD,CADN;QACiB;QACrBE,QAAQ,EAAE;UAACA;QAAD,CAFN,CAEgB;;MAFhB;IADa,CAAf;EAL2E,CAA1E,CAAL,CAWDiB,IAXC,CAWIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAXhB,EAYDF,IAZC,CAYIG,MAAM,IAAI;IACdC,OAAO,CAACC,GAAR,CAAYF,MAAZ;EACD,CAdC,EAeDG,KAfC,CAeKF,OAAO,CAACG,KAfb;EAgBA,oBAAO;IAAA,wBACH;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADG,eAEH;MAAA,uBACI;QAAO,QAAQ,EAAGC,CAAD,IAAO1B,WAAW,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnC;QACA,QAAQ,MADR;QACS,IAAI,EAAC,UADd;QACyB,IAAI,EAAC,MAD9B;QACqC,WAAW,EAAC,UADjD;QAC4D,KAAK,EAAE7B;MADnE;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAFG;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AAQH,CAnED;;GAAMJ,O;;KAAAA,O;AAoEN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}